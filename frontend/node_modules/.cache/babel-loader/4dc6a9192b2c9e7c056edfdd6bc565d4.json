{"ast":null,"code":"import axios from \"axios\";\nimport { ADDPOST, EDITPOST, REMOVEPOST, LOADTITLES, ADDCOMMENT, REMOVECOMMENT, LOADPOSTS, LOADONEPOST, LOADCOMMENTS, VOTE } from \"./actionTypes\";\nconst BASE_URL = \"http://localhost:5000\"; // export function editPost(id, newPost) {\n//   return {\n//     type: EDITPOST,\n//     payload: {\n//       id,\n//       newPost\n//     }\n//   };\n// }\n// export function removePost(id) {\n//   return {\n//     type: REMOVEPOST,\n//     payload: id\n//   };\n// }\n\nfunction handleError(error) {\n  return {\n    type: \"ERROR\",\n    error\n  };\n}\n\nexport function addPost(post) {\n  return {\n    type: ADDPOST,\n    payload: post\n  };\n}\nexport function addPostToApi(data) {\n  return async function thunk(dispatch) {\n    try {\n      let response = await axios.post(\"\".concat(BASE_URL, \"/api/posts\"), data);\n      dispatch(addPost(response.data));\n    } catch (error) {\n      dispatch(handleError(error));\n    }\n  };\n} // function getPosts(posts) {\n//   return { type: LOADPOSTS, posts };\n// }\n// export function getPostsFromApi() {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.get(`${BASE_URL}/api/posts`);\n//       dispatch(getPosts(response.data));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   };\n// }\n// function getPost(post) {\n//   return {\n//     type: LOADONEPOST,\n//     post\n//   }\n// }\n// export function getOnePostFromApi(id) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.get(`${BASE_URL}/api/posts/${id}`);\n//       dispatch(getPost(response.data));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   };\n// }\n// export function updatePostFromApi(id, postData) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.put(`${BASE_URL}/api/posts/${id}`, postData);\n//       dispatch(editPost(id, response.data))\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n// export function deletePostFromApi(id) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.delete(`${BASE_URL}/api/posts/${id}`);\n//       dispatch(removePost(response.data));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n\nexport function fetchTitlesFromAPI() {\n  return async function (dispatch) {\n    const response = await axios.get(\"\".concat(BASE_URL));\n    return dispatch(getTitles(response.data));\n  };\n}\n\nfunction getTitles(titles) {\n  return {\n    type: LOADTITLES,\n    titles\n  };\n} // export function addComment(comment, postId) {\n//   return {\n//     type: ADDCOMMENT,\n//     payload: {\n//       comment,\n//       postId\n//     }\n//   };\n// }\n// export function addCommentToApi(postId, comment) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.post(`${BASE_URL}/api/posts/${postId}/comments`, comment);\n//       dispatch(addComment(response.data, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n// function getComments(comments, postId) {\n//   return { type: LOADCOMMENTS, comments, postId };\n// }\n// export function getCommentsFromApi(postId) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.get(`${BASE_URL}/api/posts/${postId}/comments`);\n//       dispatch(getComments(response.data, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n// export function removeComment(commentId, postId) {\n//   return {\n//     type: REMOVECOMMENT,\n//     payload: {\n//       commentId,\n//       postId\n//     }\n//   };\n// }\n// export function deleteCommentFromApi(commentId, postId) {\n//     console.log(\"api\", commentId, postId)\n//   return async function thunk(dispatch) {\n//     try {\n//       await axios.delete(`${BASE_URL}/api/posts/${postId}/comments/${commentId}`);\n//       dispatch(removeComment(commentId, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//       console.log(\"in error\")\n//     }\n//   }\n// }\n// export function vote(postId, votes) {\n//   return {\n//     type: VOTE,\n//     payload: {\n//       postId, \n//       votes\n//     }\n//   };\n// }\n// export function sendVoteToAPI(postId, direction) {\n//   return async function thunk(dispatch) {\n//     try {\n//       const response = await axios.post(`${BASE_URL}/api/posts/${postId}/vote/${direction}`);\n//       dispatch(vote(postId, response.data.votes));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//       console.log(\"in error\")\n//     }\n//   };\n// }","map":{"version":3,"sources":["/Users/kathynguyen/Desktop/microblog/frontend/src/actions.js"],"names":["axios","ADDPOST","EDITPOST","REMOVEPOST","LOADTITLES","ADDCOMMENT","REMOVECOMMENT","LOADPOSTS","LOADONEPOST","LOADCOMMENTS","VOTE","BASE_URL","handleError","error","type","addPost","post","payload","addPostToApi","data","thunk","dispatch","response","fetchTitlesFromAPI","get","getTitles","titles"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,OADF,EAEEC,QAFF,EAGEC,UAHF,EAIEC,UAJF,EAKEC,UALF,EAMEC,aANF,EAOEC,SAPF,EAQEC,WARF,EASEC,YATF,EAUEC,IAVF,QAWO,eAXP;AAaA,MAAMC,QAAQ,GAAG,uBAAjB,C,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,SAAO;AACLC,IAAAA,IAAI,EAAE,OADD;AAELD,IAAAA;AAFK,GAAP;AAID;;AAED,OAAO,SAASE,OAAT,CAAiBC,IAAjB,EAAuB;AAC5B,SAAO;AACLF,IAAAA,IAAI,EAAEb,OADD;AAELgB,IAAAA,OAAO,EAAED;AAFJ,GAAP;AAID;AAED,OAAO,SAASE,YAAT,CAAsBC,IAAtB,EAA4B;AACjC,SAAO,eAAeC,KAAf,CAAqBC,QAArB,EAA+B;AACpC,QAAI;AACF,UAAIC,QAAQ,GAAG,MAAMtB,KAAK,CAACgB,IAAN,WAAcL,QAAd,iBAAoCQ,IAApC,CAArB;AACAE,MAAAA,QAAQ,CAACN,OAAO,CAACO,QAAQ,CAACH,IAAV,CAAR,CAAR;AACD,KAHD,CAGE,OAAON,KAAP,EAAc;AACdQ,MAAAA,QAAQ,CAACT,WAAW,CAACC,KAAD,CAAZ,CAAR;AACD;AACF,GAPD;AAQD,C,CAED;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASU,kBAAT,GAA8B;AACnC,SAAO,gBAAgBF,QAAhB,EAA0B;AAC/B,UAAMC,QAAQ,GAAG,MAAMtB,KAAK,CAACwB,GAAN,WAAab,QAAb,EAAvB;AACA,WAAOU,QAAQ,CAACI,SAAS,CAACH,QAAQ,CAACH,IAAV,CAAV,CAAf;AACD,GAHD;AAID;;AAED,SAASM,SAAT,CAAmBC,MAAnB,EAA2B;AACzB,SAAO;AACLZ,IAAAA,IAAI,EAAEV,UADD;AAELsB,IAAAA;AAFK,GAAP;AAID,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from \"axios\";\nimport {\n  ADDPOST,\n  EDITPOST,\n  REMOVEPOST,\n  LOADTITLES,\n  ADDCOMMENT,\n  REMOVECOMMENT,\n  LOADPOSTS,\n  LOADONEPOST, \n  LOADCOMMENTS,\n  VOTE\n} from \"./actionTypes\";\n\nconst BASE_URL = \"http://localhost:5000\";\n\n\n\n// export function editPost(id, newPost) {\n//   return {\n//     type: EDITPOST,\n//     payload: {\n//       id,\n//       newPost\n//     }\n//   };\n// }\n\n// export function removePost(id) {\n//   return {\n//     type: REMOVEPOST,\n//     payload: id\n//   };\n// }\n\nfunction handleError(error) {\n  return {\n    type: \"ERROR\",\n    error\n  };\n}\n\nexport function addPost(post) {\n  return {\n    type: ADDPOST,\n    payload: post\n  };\n}\n\nexport function addPostToApi(data) {\n  return async function thunk(dispatch) {\n    try {\n      let response = await axios.post(`${BASE_URL}/api/posts`, data);\n      dispatch(addPost(response.data));\n    } catch (error) {\n      dispatch(handleError(error));\n    }\n  };\n}\n\n// function getPosts(posts) {\n//   return { type: LOADPOSTS, posts };\n// }\n\n// export function getPostsFromApi() {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.get(`${BASE_URL}/api/posts`);\n//       dispatch(getPosts(response.data));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   };\n// }\n\n// function getPost(post) {\n//   return {\n//     type: LOADONEPOST,\n//     post\n//   }\n// }\n\n// export function getOnePostFromApi(id) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.get(`${BASE_URL}/api/posts/${id}`);\n//       dispatch(getPost(response.data));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   };\n// }\n\n// export function updatePostFromApi(id, postData) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.put(`${BASE_URL}/api/posts/${id}`, postData);\n//       dispatch(editPost(id, response.data))\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n\n// export function deletePostFromApi(id) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.delete(`${BASE_URL}/api/posts/${id}`);\n//       dispatch(removePost(response.data));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n\nexport function fetchTitlesFromAPI() {\n  return async function (dispatch) {\n    const response = await axios.get(`${BASE_URL}`);\n    return dispatch(getTitles(response.data));\n  };\n}\n\nfunction getTitles(titles) {\n  return {\n    type: LOADTITLES,\n    titles,\n  };\n}\n\n// export function addComment(comment, postId) {\n//   return {\n//     type: ADDCOMMENT,\n//     payload: {\n//       comment,\n//       postId\n//     }\n//   };\n// }\n\n// export function addCommentToApi(postId, comment) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.post(`${BASE_URL}/api/posts/${postId}/comments`, comment);\n//       dispatch(addComment(response.data, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n\n// function getComments(comments, postId) {\n//   return { type: LOADCOMMENTS, comments, postId };\n// }\n\n// export function getCommentsFromApi(postId) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.get(`${BASE_URL}/api/posts/${postId}/comments`);\n//       dispatch(getComments(response.data, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n\n// export function removeComment(commentId, postId) {\n//   return {\n//     type: REMOVECOMMENT,\n//     payload: {\n//       commentId,\n//       postId\n//     }\n//   };\n// }\n\n// export function deleteCommentFromApi(commentId, postId) {\n//     console.log(\"api\", commentId, postId)\n//   return async function thunk(dispatch) {\n//     try {\n//       await axios.delete(`${BASE_URL}/api/posts/${postId}/comments/${commentId}`);\n//       dispatch(removeComment(commentId, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//       console.log(\"in error\")\n//     }\n//   }\n// }\n\n// export function vote(postId, votes) {\n//   return {\n//     type: VOTE,\n//     payload: {\n//       postId, \n//       votes\n//     }\n//   };\n// }\n\n\n// export function sendVoteToAPI(postId, direction) {\n//   return async function thunk(dispatch) {\n//     try {\n//       const response = await axios.post(`${BASE_URL}/api/posts/${postId}/vote/${direction}`);\n//       dispatch(vote(postId, response.data.votes));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//       console.log(\"in error\")\n//     }\n//   };\n// }"]},"metadata":{},"sourceType":"module"}