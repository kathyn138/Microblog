{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kathynguyen/Documents/projects/microblog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kathynguyen/Documents/projects/microblog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/kathynguyen/Documents/projects/microblog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kathynguyen/Documents/projects/microblog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/kathynguyen/Documents/projects/microblog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/kathynguyen/Documents/projects/microblog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/kathynguyen/Documents/projects/microblog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/kathynguyen/Documents/projects/microblog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import PostForm from'./PostForm';import CommentList from'./CommentList';import CommentForm from'./CommentForm';var PostDetail=/*#__PURE__*/function(_React$Component){_inherits(PostDetail,_React$Component);function PostDetail(props){var _this;_classCallCheck(this,PostDetail);_this=_possibleConstructorReturn(this,_getPrototypeOf(PostDetail).call(this,props));_this.state={visibility:true};_this.toggleEditForm=_this.toggleEditForm.bind(_assertThisInitialized(_this));_this.handleEdit=_this.handleEdit.bind(_assertThisInitialized(_this));_this.handleCancelEdit=_this.handleCancelEdit.bind(_assertThisInitialized(_this));_this.handleRemove=_this.handleRemove.bind(_assertThisInitialized(_this));_this.handleVote=_this.handleVote.bind(_assertThisInitialized(_this));return _this;}_createClass(PostDetail,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.props.getPostFromApi(this.props.match.params.postid);case 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"renderLoading\",value:function renderLoading(){return React.createElement(\"p\",null,\"Loading...\");}},{key:\"toggleEditForm\",value:function toggleEditForm(){this.setState({visibility:!this.state.visibility});}},{key:\"handleEdit\",value:function(){var _handleEdit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id,post){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.props.updatePostFromApi(id,post);case 2:this.props.history.push('/');case 3:case\"end\":return _context2.stop();}}},_callee2,this);}));function handleEdit(_x,_x2){return _handleEdit.apply(this,arguments);}return handleEdit;}()},{key:\"handleCancelEdit\",value:function handleCancelEdit(){this.props.history.push('/');}},{key:\"handleRemove\",value:function(){var _handleRemove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.props.deletePostFromApi(id);case 2:this.props.history.push('/');case 3:case\"end\":return _context3.stop();}}},_callee3,this);}));function handleRemove(_x3){return _handleRemove.apply(this,arguments);}return handleRemove;}()},{key:\"handleVote\",value:function handleVote(id,direction){this.props.sendVoteToAPI(id,direction);}},{key:\"render\",value:function render(){var _this2=this;var currentPost=this.props.post.post;if(!currentPost){return this.renderLoading();}var visibility=this.state.visibility?\"hidden\":\"visible\";return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"col-10\",style:{margin:\"0 auto\"}},React.createElement(\"div\",{className:\"jumbotron\"},React.createElement(\"div\",{className:\"d-flex justify-content-end\"},React.createElement(\"i\",{style:{marginRight:\"6px\",color:\"blue\"},className:\"flex-end fas fa-edit\",onClick:this.toggleEditForm}),React.createElement(\"i\",{style:{color:\"red\"},className:\"fas fa-times\",onClick:function onClick(){return _this2.handleRemove(currentPost.id);}})),React.createElement(\"div\",{className:\"d-flex justify-content-end\",style:{marginTop:'10px'}},currentPost.votes,\" votes:\",React.createElement(\"i\",{className:\"fas fa-thumbs-up\",style:{color:'green',marginLeft:'10px'},onClick:function onClick(){return _this2.handleVote(currentPost.id,'up');}}),React.createElement(\"i\",{className:\"fas fa-thumbs-down\",style:{color:'red',marginLeft:'10px'},onClick:function onClick(){return _this2.handleVote(currentPost.id,'down');}})),React.createElement(\"h1\",{className:\"display-6\"},currentPost.title),React.createElement(\"p\",{className:\"lead\"},currentPost.description),React.createElement(\"p\",null,currentPost.body),React.createElement(\"hr\",{className:\"my-4\"}),React.createElement(\"h1\",{className:\"display-6\"},\"Comments\"),React.createElement(CommentList,{currentPost:currentPost,deleteCommentFromApi:this.props.deleteCommentFromApi}),React.createElement(CommentForm,{addComment:this.props.addCommentToApi,postId:currentPost.id}))),React.createElement(\"div\",{style:{visibility:visibility},className:\"form-div\"},React.createElement(PostForm,{updatePost:this.handleEdit,isEditing:true,currentPost:currentPost,cancel:this.handleCancelEdit})));}}]);return PostDetail;}(React.Component);export default PostDetail;","map":{"version":3,"sources":["/Users/kathynguyen/Documents/projects/microblog/frontend/src/Components/PostDetail.js"],"names":["React","PostForm","CommentList","CommentForm","PostDetail","props","state","visibility","toggleEditForm","bind","handleEdit","handleCancelEdit","handleRemove","handleVote","getPostFromApi","match","params","postid","setState","id","post","updatePostFromApi","history","push","deletePostFromApi","direction","sendVoteToAPI","currentPost","renderLoading","margin","marginRight","color","marginTop","votes","marginLeft","title","description","body","deleteCommentFromApi","addCommentToApi","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PostForm from './PostForm';\nimport CommentList from './CommentList';\nimport CommentForm from './CommentForm';\n\nclass PostDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visibility: true\n    }\n    this.toggleEditForm = this.toggleEditForm.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleCancelEdit = this.handleCancelEdit.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n    this.handleVote = this.handleVote.bind(this);\n  }\n\n  async componentDidMount() {\n    await this.props.getPostFromApi(this.props.match.params.postid);\n  }\n\n  renderLoading() {\n    return <p>Loading...</p>;\n  }\n\n  toggleEditForm() {\n    this.setState({ visibility: !this.state.visibility });\n  }\n\n  async handleEdit(id, post) {\n    await this.props.updatePostFromApi(id, post);\n    this.props.history.push('/');\n  }\n\n  handleCancelEdit() {\n    this.props.history.push('/')\n  }\n\n  async handleRemove(id) {\n    await this.props.deletePostFromApi(id);\n    this.props.history.push('/');\n  }\n\n  handleVote(id, direction) {\n    this.props.sendVoteToAPI(id, direction);\n  }\n\n  render() {\n    let currentPost = this.props.post.post;\n    if (!currentPost) { return this.renderLoading(); }\n    let visibility = this.state.visibility ? \"hidden\" : \"visible\";\n\n    return (\n      <React.Fragment>\n        <div className='col-10' style={{ margin: \"0 auto\" }}>\n          <div className='jumbotron'>\n            <div className='d-flex justify-content-end'>\n              <i\n                style={{ marginRight: \"6px\", color: \"blue\" }}\n                className='flex-end fas fa-edit'\n                onClick={this.toggleEditForm}></i>\n              <i style={{ color: \"red\" }} className='fas fa-times'\n                onClick={() => this.handleRemove(currentPost.id)}></i>\n            </div>\n\n            <div className='d-flex justify-content-end' style={{ marginTop: '10px' }}>\n              {currentPost.votes} votes:\n              <i className='fas fa-thumbs-up'\n                style={{ color: 'green', marginLeft: '10px' }}\n                onClick={() => this.handleVote(currentPost.id, 'up')}\n              ></i>\n              <i className='fas fa-thumbs-down'\n                style={{ color: 'red', marginLeft: '10px' }}\n                onClick={() => this.handleVote(currentPost.id, 'down')}\n              ></i>\n            </div>\n\n            <h1 className='display-6'>{currentPost.title}</h1>\n            <p className='lead'>{currentPost.description}</p>\n            <p>{currentPost.body}</p>\n            <hr className='my-4' />\n            <h1 className='display-6'>Comments</h1>\n            <CommentList currentPost={currentPost} \n            deleteCommentFromApi={this.props.deleteCommentFromApi} />\n            <CommentForm addComment={this.props.addCommentToApi} postId={currentPost.id} />\n          </div>\n        </div>\n        <div style={{ visibility }} className=\"form-div\">\n          <PostForm\n            updatePost={this.handleEdit}\n            isEditing={true}\n            currentPost={currentPost}\n            cancel={this.handleCancelEdit}\n          />\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default PostDetail;"]},"metadata":{},"sourceType":"module"}