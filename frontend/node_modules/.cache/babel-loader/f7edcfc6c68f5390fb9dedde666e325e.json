{"ast":null,"code":"import axios from \"axios\";\nimport { ADDPOST, EDITPOST, REMOVEPOST, LOADTITLES, ADDCOMMENT, REMOVECOMMENT, LOADPOSTS, LOADONEPOST, LOADCOMMENTS, VOTE } from \"./actionTypes\";\nconst BASE_URL = \"http://localhost:5000\";\n\nfunction getTitles(titles) {\n  return {\n    type: LOADTITLES,\n    titles\n  };\n}\n\nexport function fetchTitlesFromAPI() {\n  return async function (dispatch) {\n    const response = await axios.get(\"\".concat(BASE_URL, \"/api/posts\"));\n    return dispatch(getTitles(response.data));\n  };\n} // export function editPost(id, newPost) {\n//   return {\n//     type: EDITPOST,\n//     payload: {\n//       id,\n//       newPost\n//     }\n//   };\n// }\n// export function removePost(id) {\n//   return {\n//     type: REMOVEPOST,\n//     payload: id\n//   };\n// }\n\nfunction handleError(error) {\n  return {\n    type: \"ERROR\",\n    error\n  };\n}\n\nexport function addPost(post) {\n  return {\n    type: ADDPOST,\n    post,\n    id\n  };\n}\nexport function addPostToApi(data) {\n  return async function thunk(dispatch) {\n    try {\n      let response = await axios.post(\"\".concat(BASE_URL, \"/api/posts\"), data);\n      dispatch(addPost(response.data));\n    } catch (error) {\n      dispatch(handleError(error));\n    }\n  };\n}\n\nfunction getPosts(posts) {\n  return {\n    type: LOADPOSTS,\n    posts\n  };\n}\n\nexport function getPostsFromApi() {\n  return async function thunk(dispatch) {\n    try {\n      let response = await axios.get(\"\".concat(BASE_URL, \"/api/posts\"));\n      dispatch(getPosts(response.data));\n    } catch (error) {\n      dispatch(handleError(error));\n    }\n  };\n} // function getPost(post) {\n//   return {\n//     type: LOADONEPOST,\n//     post\n//   }\n// }\n// export function getOnePostFromApi(id) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.get(`${BASE_URL}/api/posts/${id}`);\n//       dispatch(getPost(response.data));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   };\n// }\n// export function updatePostFromApi(id, postData) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.put(`${BASE_URL}/api/posts/${id}`, postData);\n//       dispatch(editPost(id, response.data))\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n// export function deletePostFromApi(id) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.delete(`${BASE_URL}/api/posts/${id}`);\n//       dispatch(removePost(response.data));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n// export function addComment(comment, postId) {\n//   return {\n//     type: ADDCOMMENT,\n//     payload: {\n//       comment,\n//       postId\n//     }\n//   };\n// }\n// export function addCommentToApi(postId, comment) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.post(`${BASE_URL}/api/posts/${postId}/comments`, comment);\n//       dispatch(addComment(response.data, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n// function getComments(comments, postId) {\n//   return { type: LOADCOMMENTS, comments, postId };\n// }\n// export function getCommentsFromApi(postId) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.get(`${BASE_URL}/api/posts/${postId}/comments`);\n//       dispatch(getComments(response.data, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n// export function removeComment(commentId, postId) {\n//   return {\n//     type: REMOVECOMMENT,\n//     payload: {\n//       commentId,\n//       postId\n//     }\n//   };\n// }\n// export function deleteCommentFromApi(commentId, postId) {\n//     console.log(\"api\", commentId, postId)\n//   return async function thunk(dispatch) {\n//     try {\n//       await axios.delete(`${BASE_URL}/api/posts/${postId}/comments/${commentId}`);\n//       dispatch(removeComment(commentId, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//       console.log(\"in error\")\n//     }\n//   }\n// }\n// export function vote(postId, votes) {\n//   return {\n//     type: VOTE,\n//     payload: {\n//       postId, \n//       votes\n//     }\n//   };\n// }\n// export function sendVoteToAPI(postId, direction) {\n//   return async function thunk(dispatch) {\n//     try {\n//       const response = await axios.post(`${BASE_URL}/api/posts/${postId}/vote/${direction}`);\n//       dispatch(vote(postId, response.data.votes));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//       console.log(\"in error\")\n//     }\n//   };\n// }","map":{"version":3,"sources":["/Users/kathynguyen/Desktop/microblog/frontend/src/actions.js"],"names":["axios","ADDPOST","EDITPOST","REMOVEPOST","LOADTITLES","ADDCOMMENT","REMOVECOMMENT","LOADPOSTS","LOADONEPOST","LOADCOMMENTS","VOTE","BASE_URL","getTitles","titles","type","fetchTitlesFromAPI","dispatch","response","get","data","handleError","error","addPost","post","id","addPostToApi","thunk","getPosts","posts","getPostsFromApi"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,OADF,EAEEC,QAFF,EAGEC,UAHF,EAIEC,UAJF,EAKEC,UALF,EAMEC,aANF,EAOEC,SAPF,EAQEC,WARF,EASEC,YATF,EAUEC,IAVF,QAWO,eAXP;AAaA,MAAMC,QAAQ,GAAG,uBAAjB;;AAEA,SAASC,SAAT,CAAmBC,MAAnB,EAA2B;AACzB,SAAO;AACLC,IAAAA,IAAI,EAAEV,UADD;AAELS,IAAAA;AAFK,GAAP;AAID;;AAED,OAAO,SAASE,kBAAT,GAA8B;AACnC,SAAO,gBAAgBC,QAAhB,EAA0B;AAC/B,UAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,GAAN,WAAaP,QAAb,gBAAvB;AACA,WAAOK,QAAQ,CAACJ,SAAS,CAACK,QAAQ,CAACE,IAAV,CAAV,CAAf;AACD,GAHD;AAID,C,CAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,SAAO;AACLP,IAAAA,IAAI,EAAE,OADD;AAELO,IAAAA;AAFK,GAAP;AAID;;AAED,OAAO,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AAC5B,SAAO;AACLT,IAAAA,IAAI,EAAEb,OADD;AAELsB,IAAAA,IAFK;AAGLC,IAAAA;AAHK,GAAP;AAKD;AAED,OAAO,SAASC,YAAT,CAAsBN,IAAtB,EAA4B;AACjC,SAAO,eAAeO,KAAf,CAAqBV,QAArB,EAA+B;AACpC,QAAI;AACF,UAAIC,QAAQ,GAAG,MAAMjB,KAAK,CAACuB,IAAN,WAAcZ,QAAd,iBAAoCQ,IAApC,CAArB;AACAH,MAAAA,QAAQ,CAACM,OAAO,CAACL,QAAQ,CAACE,IAAV,CAAR,CAAR;AACD,KAHD,CAGE,OAAOE,KAAP,EAAc;AACdL,MAAAA,QAAQ,CAACI,WAAW,CAACC,KAAD,CAAZ,CAAR;AACD;AACF,GAPD;AAQD;;AAED,SAASM,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,SAAO;AAAEd,IAAAA,IAAI,EAAEP,SAAR;AAAmBqB,IAAAA;AAAnB,GAAP;AACD;;AAED,OAAO,SAASC,eAAT,GAA2B;AAChC,SAAO,eAAeH,KAAf,CAAqBV,QAArB,EAA+B;AACpC,QAAI;AACF,UAAIC,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,GAAN,WAAaP,QAAb,gBAArB;AACAK,MAAAA,QAAQ,CAACW,QAAQ,CAACV,QAAQ,CAACE,IAAV,CAAT,CAAR;AACD,KAHD,CAGE,OAAOE,KAAP,EAAc;AACdL,MAAAA,QAAQ,CAACI,WAAW,CAACC,KAAD,CAAZ,CAAR;AACD;AACF,GAPD;AAQD,C,CAED;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from \"axios\";\nimport {\n  ADDPOST,\n  EDITPOST,\n  REMOVEPOST,\n  LOADTITLES,\n  ADDCOMMENT,\n  REMOVECOMMENT,\n  LOADPOSTS,\n  LOADONEPOST, \n  LOADCOMMENTS,\n  VOTE\n} from \"./actionTypes\";\n\nconst BASE_URL = \"http://localhost:5000\";\n\nfunction getTitles(titles) {\n  return {\n    type: LOADTITLES,\n    titles,\n  };\n}\n\nexport function fetchTitlesFromAPI() {\n  return async function (dispatch) {\n    const response = await axios.get(`${BASE_URL}/api/posts`);\n    return dispatch(getTitles(response.data));\n  };\n}\n\n\n// export function editPost(id, newPost) {\n//   return {\n//     type: EDITPOST,\n//     payload: {\n//       id,\n//       newPost\n//     }\n//   };\n// }\n\n// export function removePost(id) {\n//   return {\n//     type: REMOVEPOST,\n//     payload: id\n//   };\n// }\n\nfunction handleError(error) {\n  return {\n    type: \"ERROR\",\n    error\n  };\n}\n\nexport function addPost(post) {\n  return {\n    type: ADDPOST,\n    post, \n    id\n  };\n}\n\nexport function addPostToApi(data) {\n  return async function thunk(dispatch) {\n    try {\n      let response = await axios.post(`${BASE_URL}/api/posts`, data);\n      dispatch(addPost(response.data));\n    } catch (error) {\n      dispatch(handleError(error));\n    }\n  };\n}\n\nfunction getPosts(posts) {\n  return { type: LOADPOSTS, posts };\n}\n\nexport function getPostsFromApi() {\n  return async function thunk(dispatch) {\n    try {\n      let response = await axios.get(`${BASE_URL}/api/posts`);\n      dispatch(getPosts(response.data));\n    } catch (error) {\n      dispatch(handleError(error));\n    }\n  };\n}\n\n// function getPost(post) {\n//   return {\n//     type: LOADONEPOST,\n//     post\n//   }\n// }\n\n// export function getOnePostFromApi(id) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.get(`${BASE_URL}/api/posts/${id}`);\n//       dispatch(getPost(response.data));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   };\n// }\n\n// export function updatePostFromApi(id, postData) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.put(`${BASE_URL}/api/posts/${id}`, postData);\n//       dispatch(editPost(id, response.data))\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n\n// export function deletePostFromApi(id) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.delete(`${BASE_URL}/api/posts/${id}`);\n//       dispatch(removePost(response.data));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n\n// export function addComment(comment, postId) {\n//   return {\n//     type: ADDCOMMENT,\n//     payload: {\n//       comment,\n//       postId\n//     }\n//   };\n// }\n\n// export function addCommentToApi(postId, comment) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.post(`${BASE_URL}/api/posts/${postId}/comments`, comment);\n//       dispatch(addComment(response.data, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n\n// function getComments(comments, postId) {\n//   return { type: LOADCOMMENTS, comments, postId };\n// }\n\n// export function getCommentsFromApi(postId) {\n//   return async function thunk(dispatch) {\n//     try {\n//       let response = await axios.get(`${BASE_URL}/api/posts/${postId}/comments`);\n//       dispatch(getComments(response.data, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//     }\n//   }\n// }\n\n// export function removeComment(commentId, postId) {\n//   return {\n//     type: REMOVECOMMENT,\n//     payload: {\n//       commentId,\n//       postId\n//     }\n//   };\n// }\n\n// export function deleteCommentFromApi(commentId, postId) {\n//     console.log(\"api\", commentId, postId)\n//   return async function thunk(dispatch) {\n//     try {\n//       await axios.delete(`${BASE_URL}/api/posts/${postId}/comments/${commentId}`);\n//       dispatch(removeComment(commentId, postId));\n//   } catch (error) {\n//       dispatch(handleError(error));\n//       console.log(\"in error\")\n//     }\n//   }\n// }\n\n// export function vote(postId, votes) {\n//   return {\n//     type: VOTE,\n//     payload: {\n//       postId, \n//       votes\n//     }\n//   };\n// }\n\n\n// export function sendVoteToAPI(postId, direction) {\n//   return async function thunk(dispatch) {\n//     try {\n//       const response = await axios.post(`${BASE_URL}/api/posts/${postId}/vote/${direction}`);\n//       dispatch(vote(postId, response.data.votes));\n//     } catch (error) {\n//       dispatch(handleError(error));\n//       console.log(\"in error\")\n//     }\n//   };\n// }"]},"metadata":{},"sourceType":"module"}