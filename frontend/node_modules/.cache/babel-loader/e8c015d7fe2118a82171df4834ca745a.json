{"ast":null,"code":"import _defineProperty from\"/Users/kathynguyen/Documents/projects/microblog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/Users/kathynguyen/Documents/projects/microblog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{ADDPOST,REMOVEPOST,EDITPOST,VOTE,LOADTITLES}from\"../actionTypes\";// need this fn to avoid passing in all details about post\n// into title\n// passing all details into title would be wasteful \nfunction makeTitleFromPost(post){return{id:post.id,title:post.title,description:post.description,votes:post.votes};}function sortByVote(posts){return posts.sort(function(a,b){return b.votes-a.votes;});}export default function rootReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case LOADTITLES:return sortByVote(_toConsumableArray(action.titles));case ADDPOST:return sortByVote([].concat(_toConsumableArray(state),[makeTitleFromPost(action.post)]));case EDITPOST:return state.map(function(title){return title.id===action.payload.id?makeTitleFromPost(action.payload.post):title;});case REMOVEPOST:return state.filter(function(title){return title.id!==action.id;});case VOTE:return sortByVote(state.map(function(title){return title.id===action.payload.postId?_objectSpread({},title,{votes:action.payload.votes}):title;}));default:return state;}}","map":{"version":3,"sources":["/Users/kathynguyen/Documents/projects/microblog/frontend/src/Reducers/titleReducer.js"],"names":["ADDPOST","REMOVEPOST","EDITPOST","VOTE","LOADTITLES","makeTitleFromPost","post","id","title","description","votes","sortByVote","posts","sort","a","b","rootReducer","state","action","type","titles","map","payload","filter","postId"],"mappings":"onCAAA,OACEA,OADF,CAEEC,UAFF,CAGEC,QAHF,CAIEC,IAJF,CAKEC,UALF,KAMO,gBANP,CAQA;AACA;AACA;AAEA,QAASC,CAAAA,iBAAT,CAA2BC,IAA3B,CAAiC,CAC/B,MAAO,CACLC,EAAE,CAAED,IAAI,CAACC,EADJ,CAELC,KAAK,CAAEF,IAAI,CAACE,KAFP,CAGLC,WAAW,CAAEH,IAAI,CAACG,WAHb,CAILC,KAAK,CAAEJ,IAAI,CAACI,KAJP,CAAP,CAMD,CAED,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACzB,MAAOA,CAAAA,KAAK,CAACC,IAAN,CAAW,SAACC,CAAD,CAAIC,CAAJ,QAAUA,CAAAA,CAAC,CAACL,KAAF,CAAUI,CAAC,CAACJ,KAAtB,EAAX,CAAP,CACD,CACD,cAAe,SAASM,CAAAA,WAAT,EAAyC,IAApBC,CAAAA,KAAoB,2DAAZ,EAAY,IAARC,CAAAA,MAAQ,2CACtD,OAAQA,MAAM,CAACC,IAAf,EAEE,IAAKf,CAAAA,UAAL,CACE,MAAOO,CAAAA,UAAU,oBAAKO,MAAM,CAACE,MAAZ,EAAjB,CAEF,IAAKpB,CAAAA,OAAL,CACE,MAAOW,CAAAA,UAAU,8BAAKM,KAAL,GAAYZ,iBAAiB,CAACa,MAAM,CAACZ,IAAR,CAA7B,GAAjB,CAEF,IAAKJ,CAAAA,QAAL,CACE,MAAOe,CAAAA,KAAK,CAACI,GAAN,CACL,SAAAb,KAAK,QAAIA,CAAAA,KAAK,CAACD,EAAN,GAAaW,MAAM,CAACI,OAAP,CAAef,EAA5B,CACTF,iBAAiB,CAACa,MAAM,CAACI,OAAP,CAAehB,IAAhB,CADR,CACgCE,KADpC,EADA,CAAP,CAIF,IAAKP,CAAAA,UAAL,CACE,MAAOgB,CAAAA,KAAK,CAACM,MAAN,CAAa,SAAAf,KAAK,QAAIA,CAAAA,KAAK,CAACD,EAAN,GAAaW,MAAM,CAACX,EAAxB,EAAlB,CAAP,CAEF,IAAKJ,CAAAA,IAAL,CACE,MAAOQ,CAAAA,UAAU,CAACM,KAAK,CAACI,GAAN,CAChB,SAAAb,KAAK,QAAIA,CAAAA,KAAK,CAACD,EAAN,GAAaW,MAAM,CAACI,OAAP,CAAeE,MAA5B,kBACFhB,KADE,EACKE,KAAK,CAAEQ,MAAM,CAACI,OAAP,CAAeZ,KAD3B,GACqCF,KADzC,EADW,CAAD,CAAjB,CAIF,QACE,MAAOS,CAAAA,KAAP,CAtBJ,CAwBD","sourcesContent":["import {\n  ADDPOST,\n  REMOVEPOST,\n  EDITPOST,\n  VOTE,\n  LOADTITLES\n} from \"../actionTypes\";\n\n// need this fn to avoid passing in all details about post\n// into title\n// passing all details into title would be wasteful \n\nfunction makeTitleFromPost(post) {\n  return {\n    id: post.id,\n    title: post.title,\n    description: post.description,\n    votes: post.votes\n  };\n}\n\nfunction sortByVote(posts) {\n  return posts.sort((a, b) => b.votes - a.votes);\n}\nexport default function rootReducer(state = [], action) {\n  switch (action.type) {\n\n    case LOADTITLES:\n      return sortByVote([...action.titles]);\n\n    case ADDPOST:\n      return sortByVote([...state, makeTitleFromPost(action.post)]);\n\n    case EDITPOST:\n      return state.map(\n        title => title.id === action.payload.id ?\n        makeTitleFromPost(action.payload.post) : title);\n\n    case REMOVEPOST:\n      return state.filter(title => title.id !== action.id);\n\n    case VOTE:\n      return sortByVote(state.map(\n        title => title.id === action.payload.postId ?\n          { ...title, votes: action.payload.votes } : title));\n\n    default:\n      return state;\n  }\n}"]},"metadata":{},"sourceType":"module"}